<div id="order-summary" *ngIf="order">
    <div class="details-header">
        <div id="user-icon" *ngIf="order.assignee">
            <p>{{ accountService.getUserInitials(order.assignee.username) }}</p>
        </div>
        <div>
            <p><span i18n>Table</span>: <span id="table-number">{{ order.table.name }}</span></p>
        </div>
    </div>

    <div>
        <p>{{ order.created | date:'HH:mm'}} | {{order.created | date:'dd.MM.YY'}}</p>
    </div>

    <div class="section">
        <h2 i18n>Order status</h2>

        <app-status-line></app-status-line>

        <div class="attribute">
            <div class="key">Payment status</div>
            <div class="value">{{ translator.translatePaymentStatus(order.paymentStatus) }}</div>
        </div>

        <div class="attribute">
            <div class="key">Order status</div>
            <div class="value">{{ translator.translateOrderStatus(order.orderStatus) }}</div>
        </div>
    </div>

    <div class="section">
        <h2 i18n>Order details</h2>

        <div class="summary-element" *ngFor="let orderElement of order.elements">
            <div class="summary-element-description">
                <div class="summary-element-name">
                    {{ orderElement.menuItem.menuItemGroupName }}
                    <ng-container *ngIf="orderElement.menuItem.name">({{ orderElement.menuItem.name }})</ng-container>
                </div>
                <div class="summary-element-options">
                    <div class="summary-element-option" *ngFor="let select of orderElement.menuItemSelects">
                        {{ select.name }} (+{{ select.price }} zł)
                    </div>
                    <div class="summary-element-option" *ngFor="let topping of orderElement.menuItemToppings">
                        {{ topping.name }} (+{{ topping.price }} zł)
                    </div>
                    <div class="summary-element-option" *ngIf="orderElement.comment">
                        <span i18n>Comment: </span> {{ orderElement.comment }}
                    </div>
                </div>
            </div>
            <div class="summary-element-price">
                {{orderElement.price.toFixed(2)}} zł
            </div>
        </div>
    </div>

    <div class="section">
        <h2 i18n>Informations</h2>

        <div class="attribute">
            <div class="key">Total</div>
            <div class="value">{{ order.price | number : '1.2-2' }} zł</div>
        </div>

        <div class="attribute">
            <div class="key">Payment method</div>
            <div class="value">{{ translator.translatePaymentMethod(order.paymentMethod) }}</div>
        </div>
    </div>

    <div class="section">
        <h2 i18n>Comments</h2>

        <div class="attribute">
            <div class="key">Status comment</div>
            <div class="value" *ngIf="!order.orderStatusComment" i18n>No comment</div>
            <div class="value" *ngIf="order.orderStatusComment">{{ order.orderStatusComment }}</div>
        </div>

        <div class="attribute">
            <div class="key">Comment</div>
            <div class="value" *ngIf="!order.comment" i18n>No comment</div>
            <div class="value" *ngIf="order.comment">{{ order.comment }}</div>
        </div>

        <div class="attribute">
            <div class="key">Id</div>
            <div class="value">{{ order.ref }}</div>
        </div>
    </div>

    <div *ngIf="editable" class="edit-order box-radius box-shadow clickable" (click)="editOrder(order.ref)">Edit</div>
</div>